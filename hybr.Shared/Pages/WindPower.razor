@page "/WindPower"

@using hybr.Shared.Services
<PageTitle>WindPower</PageTitle>
<Preload />
<div id="parent">
    <div id="grid11" class="gridContent">
        <LineChart @ref=LiveChartElement.WindPowerChartVoltage1 Width="100" WidthUnit="Unit.Percentage" Height="100" HeightUnit="Unit.Percentage" />
    </div>
    <div id="grid21" class="gridContent">
        <LineChart @ref=LiveChartElement.WindPowerChartAmperage1 Width="100" WidthUnit="Unit.Percentage" Height="100" HeightUnit="Unit.Percentage" />
    </div>
    <div id="grid31" class="gridContent">
        <LineChart @ref=LiveChartElement.WindPowerChartVoltage2 Width="100" WidthUnit="Unit.Percentage" Height="100" HeightUnit="Unit.Percentage" />
    </div>
    <div id="grid12" class="gridContent">
        <LineChart @ref=LiveChartElement.WindPowerChartAmperage2 Width="100" WidthUnit="Unit.Percentage" Height="100" HeightUnit="Unit.Percentage" />
    </div>
    <div id="grid22" class="gridContent">
        <LineChart @ref=LiveChartElement.WindPowerChartVoltage3 Width="100" WidthUnit="Unit.Percentage" Height="100" HeightUnit="Unit.Percentage" />
    </div>
    <div id="grid32" class="gridContent">
        <LineChart @ref=LiveChartElement.WindPowerChartAmperage3 Width="100" WidthUnit="Unit.Percentage" Height="100" HeightUnit="Unit.Percentage" />
    </div>
</div>

@code {
    [Inject] protected PreloadService PreloadService { get; set; } = default!;
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            LiveChartElement.PageProperty("WindPower");
            PreloadService.Show(SpinnerColor.Light, "Синхронизация...");
            await Task.Delay(1300);
            PreloadService.Hide();
        }
        await base.OnAfterRenderAsync(firstRender);
    }
}